---
title: "Regresi Linier"
subtitle: "SESI 2"  
author: 
  - "Tedy Herlambang"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    css: ["ki_nolog.css", "ki-fonts", "extra_css.css"]
    lib_dir: libs
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE
)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#1381B0",
  secondary_color = "#FF961C",
  inverse_header_color = "#FFFFFF"
)
```

```{r load_packages, message=FALSE, warning=FALSE, include=FALSE} 
library(fontawesome)
```

```{r xaringan-tile-view, echo=FALSE}
xaringanExtra::use_tile_view()
```

```{r xaringan-scribble, echo=FALSE}
xaringanExtra::use_scribble()
```
layout: true

<div class="my-footer"><span>bangtedy.github.io</span></div>

<!-- this adds the link footer to all slides, depends on my-footer class in css-->

---

# Capaian Pembelajaran
1. Menjelaskan ide dasar regresi
2. Menjelaskan asumsi-asumsi OLS
3. Menentukan estimator OLS yang BLUE
4. Menentukan ketepatan estimator OLS dan kebaikan regresi metode OLS
5. Menjelaskan arti koefisien regresi
6. Menjelaskan teknik variabel dummy dan mengartikan koefisiennya.

---

## Pembelajaran Sesi sebelumnya

### Orang ekonomi seringkali tertarik dalam hubungan antara kuantitas berbeda, contoh:
- Hubungan antara tingkat pendapatan rumah tangga dengan konsumsinya
- Hubungan antara gaji seseorang dengan pendapatannya
- Hubungan antara tingkat bunga jangka panjang dengan jangka pendek

### Ekonometrika mengkuantifikasi hubungan ini dengan menggunakan:
- Data yang tersedia
- Menggunakan teknik statistika
- Menginterpretasikan atau mengeksploitasi hasil secara tepat.

### Ekonometrika: interaksi antara teori ekonomi, data dan metode statistika
- Ini yang menjadi tantangan, kesulitan sekaligus menariknya ekonometrika!

---
class: center, middle

> ‘Econometrics is much easier without data’

> Belajar ekonometrika seperti belajar naik sepeda: praktik sangat penting

> Praktik sangat krusial dalam proses memahami berbagai metode, bagaimana dan kapan menggunakan metode-metode itu, yang benar/salah.

---

# Regresi Linier Sederhana

- Kombinasi model regresi linier dengan Ordinary Least Squares (OLS) menjadi batu loncatan di dalam ekonometrika

- Regresi menjadi alat yang paling penting yang dipakai ekonomi untuk memahami hubungan antara dua atau lebih variabel.
    + Misalkan variabel-variabel tingkat pengangguran dan suku bunga, pasokan uang, inflasi, nilai tukar, neraca perdagangan, dimana hubungan antara variabel-variabel in kompleks. 

---
## Contoh: Seorang mahasiswa mencoba membuat model harga rumah

- Hal-hal apa saja yang mempengaruhi harga rumah:
    + luas rumah,
    + jumlah kamar,
    + luas tanah,
    + lokasi rumah (dekat dengan sekolah, tempat ibadah, jalan tol, dll),
    + jumlah kamar mandi (mungkin)
    + dll
    
---
## Notasi Teoritis

$$Y=f(X_1,X_2,X_i,..., \epsilon),$$
- Y: variabel dependen,
- $X_1, X_2, . . ., X_i$: variabel variabel independen,
- $\epsilon$: residu dari model (sebagian dari variabilitas dari variabel dependen yang tidak dijelaskan oleh model).

### Jika diasumsikan hubungan antar variabel itu linier maka:

$$Y=\beta_0 + \beta_1X_1 + \beta_2X_2+ ... \beta_iX_i + \epsilon,$$
- $\beta_0, \beta_1, \beta_2$: koefisien model/parameter struktural yang mengkuantifikasi arah dan kekuatan hubungan statistik antara variabel independen dan dependen.
- $\epsilon$: residu dari model 
---
## Catatan
- Jika di dalam aktualitas kita bisa mengetahui nilai-nilai $\beta_0, \beta_1, \beta_2$, maka kita akan tahu hubungan antara Y dengan $X_i$.

- Di dalam praktik, informasi ini tidak kita miliki

- Jika di dalam model regresi hubungan antara Y dengan X memang linier, di dunia sebenarnya, kita tidak akan pernah menemukan bahwa data terletak persis pada garis lurus.
- Model regresi selalu hanya merupakan aproksimasi/pendekatan dari hubungan yang sebenarnya (hubungan yang sebenarnya mungkin saja berbeda dari pendekatan implisit model regresi linier).

- Faktor kesalahan pengukuran membuat data tersebar dekat tetapi tidak persis berada di garis regresi.

---
## Model pasti mengandung kesalahan

- missing variables (karena kita tidak bisa mengamatinya)
- kesulitan mengukur, mengumpulkan atau bahkan data tidak mungkin dikumpulkan
- penghilangn variabel ini dari model regresi membuat model mengandung kesalahan $\epsilon$.

---

# Prosedur Membangun Model Regresi<sup>*</sup>:
1. Menentukan variabel dependen yang perilakunya ingin dijelaskan di dalam model.
2. Menentukan kandidat variabel independen yang relevan (variabel independen yang diperkirakan memiliki hubungan statistik dan teoritis dengan variabel dependen). 
3. Analisis pendahuluan dan plotting data (cek pencilan, data yang hilang, salah input dll) 
4. Membuang calon-calon variabel dependen yang *redundant* atau tidak signifikan dengan cara:
    + Metode statistik (e.g., the procedure of “general to speciﬁc modeling”).
    + Teori ekonomi, pendapat ahli atau penilain subyektif
5. Estimasi final parameter model
6. Verifikasi kebenaran dan kecocokan model dengan data aktual
7. Penerapan model yang diperoleh

---

# Elemen-elemen Dasar Model Regresi Linier
### Koefisien Model:
- Intersep/konstanta: nilai yang diharapkan dari variabel dependen jika nilai variabel independen sama dengan nol. Perpotongan garis regresi dengan sumbu axis.
- Koefisien kemiringan/slope: kuantifikasi arah dan ukuran dampak variabel independen tertentu terhadap variabel dependen.

### Standard errors of individual structural parameters

---

## Bagaimana menentukan signifikansi statistik dari masing-masing koefisien model regresi
### Cek t-statistics of individual coefﬁcients
- Dihitung dengan membagi koefisien dengan standar errornya. 

---
## Koefisien Determinasi $R^2$

- Mengukur goodness of ﬁt dari model dibandingkan dengan data aktual.
- R-squared equaling zero artinya:
- R-squared equaling unity artinya:
- Mungkinkan di dalam riset ekonomi mendapatkan $R^2$ sama dengan 0 atau 1?

### Koefisien Determinasi yang Disesuaikan (the adjusted R-squared)
---
# Evaluasi Regresi dan Model (Sesi 3)
- Normality of errors.
- Homoscedasticity of Errors.
- Absence of Outlying

---
## [Kasus 1: Model Pengeluaran Pangan](https://rdrr.io/github/ccolonescu/PoEdata/man/food.html)

### Deskripsi Kasus

Data frame terdiri dari 40 pengamatan pada dua variabel yaitu: 
- food_exp: weekly food expenditure in $
- income: weekly income in $100
- Data ini bisa dipanggil dari **PoEdata** R library.
- Kita akan melihat pengaruh kenaikan pendapatan terhadap kenaikan pengeluaran pangan per minggu: 

$$food-exp=\beta_1 + \beta_2income + e$$
---
## Data bisa dipanggil dari PoEdata package:

```{r eval=requireNamespace("PoEdata", quietly=TRUE)}
library(PoEdata)
data(food)
head(food)
dim(food)
```
---

## Selanjutnya kita buat scatterplot

```{r eval=requireNamespace("car", quietly=TRUE)}
library(car)
scatterplot(food$income,food$food_exp)
```
---
Estimasi model
```{r, echo=FALSE}
(summary (lm(food_exp ~ income, data = food)))
```
---

## Jadi model yang diperoleh:

## $$food-exp = 83.416 +  10.210 income$$
---
## Latihan: Perhatikan halaman 2.23 Tabel 2.1.1
Anda diminta menghitung regresi sederhana besarnya pengaruh pengeluaran iklan terhadap volume penjualan. Datanya adalah sebagai berikut:

```{r, echo=FALSE}
iklan <- read.csv("~/BLOG SOURCES/ekonometrika/iklan.csv", sep="")

```


```{r eval=requireNamespace("dplyr", quietly=TRUE), echo=FALSE}
library('dplyr')
```

```{r eval=requireNamespace("kableExtra", quietly=TRUE), echo=FALSE}
library('kableExtra')
iklan %>%
  kbl(caption = "Penjualan dan Pengeluaran Iklan Perusahaan") %>%
  kable_classic(full_width = F, html_font = "Cambria") %>%   kable_styling(bootstrap_options = "striped", font_size = 24)

```
---
## Plot dan Estimasi Model Iklan

```{r, echo=FALSE}
par(mfrow=c(1,2))
plot(iklan$iklan, iklan$penjualan,
ylim=c(0, max(iklan$penjualan)),
xlim=c(0, max(iklan$iklan)),
xlab="Pengeluaran iklan dalam juta rupiah",
ylab="Volume penjualan dalam juta unit",
type = "p")

model.iklan <- lm(penjualan~iklan, data = iklan)
plot(iklan$iklan, iklan$penjualan,
xlab="Pengeluaran iklan dalam juta rupiah",
ylab="Volume penjualan dalam juta unit",
type = "p")
abline(model.iklan) 

```
---
```{r}
summary(model.iklan)
```
---
### Kasus: Gaji Karyawan di Indonesia
Misalkan Anda ingin membuat model tentang faktor-faktor yang mempengaruhi gaji karyawan di Indonesia.

1. Variabel-variabel independen apa yang akan Anda masukkan ke dalam model?
2. Bagaimana perkiraan Anda tentang arah hubungan dan kekuatan pengaruh dari variabel-variabel pada no.1?
3. Bagaimana Anda akan mengumpulkan data variabel pada pertanyaan no.1?

---
### Wooldridge, Contoh 2.3: Gaji CEO dan Return on Equity (ROE)

Pada kasus ini, penulis membuat model pengaruh ROE terhadap gaji yang diterima CEO. Model yang diduga adalah $gaji = \beta_0 + \beta_1 roe + e$. Persamaan regresi linier dengan OLS yang didapatkan adalah $\widehat{gaji}= 963.1913 + 18.50119 roe$.

- Asumsikan bahwa persamaan diatas sudah tepat dan signifikan. Jelaskan makna dari koefisien-koefisien yang didapat!
- Jika ROE sebuah perusahaan adalah sebesar 10 satuan, berapa gaji yang akan didapat oleh CEO-nya?

---
### Halaman ini memang sengaja dibiarkan kosong.

---
class: inverse, right, bottom

<img class= "circle" src="https://github.com/bangtedy.png" width="150px"/>

# Kso'on, find me at...

[`r fa(name = "twitter")` @t_hlb](http://twitter.com/t_hlb)  
[`r fa(name = "blog")` bangtedy.github.io](https://bangtedy.github.io)
